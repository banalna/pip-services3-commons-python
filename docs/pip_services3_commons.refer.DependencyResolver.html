
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pip_services3_commons.refer.DependencyResolver module &#8212; Pip.Services Commons for Python API</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pip_services3_commons.refer.Descriptor module" href="pip_services3_commons.refer.Descriptor.html" />
    <link rel="prev" title="pip_services3_commons.refer package" href="pip_services3_commons.refer.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pip_services3_commons.refer.Descriptor.html" title="pip_services3_commons.refer.Descriptor module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pip_services3_commons.refer.html" title="pip_services3_commons.refer package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Pip.Services Commons for Python API</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >pip_services3_commons</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="pip_services3_commons.html" >pip_services3_commons package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="pip_services3_commons.refer.html" accesskey="U">pip_services3_commons.refer package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pip_services3_commons.refer.DependencyResolver">
<span id="pip-services3-commons-refer-dependencyresolver-module"></span><h1>pip_services3_commons.refer.DependencyResolver module<a class="headerlink" href="#module-pip_services3_commons.refer.DependencyResolver" title="Permalink to this headline">¶</a></h1>
<div class="section" id="pip-services3-commons-refer-dependencyresolver">
<h2>pip_services3_commons.refer.DependencyResolver<a class="headerlink" href="#pip-services3-commons-refer-dependencyresolver" title="Permalink to this headline">¶</a></h2>
<p>Dependency resolver component implementation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">Conceptual Vision Consulting LLC 2018-2019, see AUTHORS for more details.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">MIT, see LICENSE for more details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver">
<em class="property">class </em><code class="descclassname">pip_services3_commons.refer.DependencyResolver.</code><code class="descname">DependencyResolver</code><span class="sig-paren">(</span><em>config=None</em>, <em>references=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pip_services3_commons.config.IReconfigurable.html#pip_services3_commons.config.IReconfigurable.IReconfigurable" title="pip_services3_commons.config.IReconfigurable.IReconfigurable"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.config.IReconfigurable.IReconfigurable</span></code></a>, <a class="reference internal" href="pip_services3_commons.refer.IReferenceable.html#pip_services3_commons.refer.IReferenceable.IReferenceable" title="pip_services3_commons.refer.IReferenceable.IReferenceable"><code class="xref py py-class docutils literal notranslate"><span class="pre">pip_services3_commons.refer.IReferenceable.IReferenceable</span></code></a></p>
<p>Helper class for resolving component dependencies.
The resolver is configured to resolve named dependencies by specific locator.
During deployment the dependency locator can be changed.</p>
<p>This mechanism can be used to clarify specific dependency among several alternatives.
Typically components are configured to retrieve the first dependency that matches
logical group, type and version. But if container contains more than one instance
and resolution has to be specific about those instances, they can be given a unique
name and dependency resolvers can be reconfigured to retrieve dependencies by their name.</p>
<p>Configuration parameters</p>
<dl class="docutils">
<dt>dependencies:</dt>
<dd><ul class="first last simple">
<li>[dependency name 1]: Dependency 1 locator (descriptor)</li>
<li>…</li>
<li>[dependency name N]: Dependency N locator (descriptor)</li>
</ul>
</dd>
<dt>References:</dt>
<dd><ul class="first last simple">
<li>References must match configured dependencies.</li>
</ul>
</dd>
<dt>Example:</dt>
<dd><dl class="first last docutils">
<dt>class MyComponent(IConfigurable, IReferenceable):</dt>
<dd><p class="first">_dependencyResolver = None
_persistence = None</p>
<dl class="docutils">
<dt>def __init__(self):</dt>
<dd>self._dependencyResolver.put(“persistence”, new Descriptor(“mygroup”, “persistence”, “*”, “*”, “1.0”))</dd>
<dt>def configure(self, config):</dt>
<dd>self._dependencyResolver.configure(config)</dd>
<dt>def set_references(self, references):</dt>
<dd>self._dependencyResolver.setReferences(references)
self._persistence = self._dependencyResolver.get_one_required(“persistence”)</dd>
</dl>
<p>component = MyComponent()
component.configure(ConfigParams.from_tuples(
“dependencies.persistence”, “mygroup:persistence:<a href="#id1"><span class="problematic" id="id2">*</span></a>:persistence2:1.0”))</p>
<p class="last">component.setReferences(References.from_tuples(Descriptor(“mygroup”,”persistence”,”*”,”persistence1”,”1.0”),
MyPersistence(),
Descriptor(“mygroup”,”persistence”,”*”,”persistence2”,”1.0”), MyPersistence()
// This dependency shall be set))</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the component with specified parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config</strong> – configuration parameters to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>name</em>, <em>required</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all matching dependencies by their name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> – the dependency name to locate.</li>
<li><strong>required</strong> – true to raise an exception when no dependencies are found.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of found dependencies</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.from_tuples">
<em class="property">static </em><code class="descname">from_tuples</code><span class="sig-paren">(</span><em>*tuples</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.from_tuples" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new DependencyResolver from a list of key-value pairs called tuples
where key is dependency name and value the depedency locator (descriptor).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tuples</strong> – a list of values where odd elements are dependency name</td>
</tr>
</tbody>
</table>
<p>and the following even elements are dependency locator (descriptor)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a newly created DependencyResolver.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_one_optional">
<code class="descname">get_one_optional</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_one_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets one optional dependency by its name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the dependency name to locate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dependency reference or null of the dependency was not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_one_required">
<code class="descname">get_one_required</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_one_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets one required dependency by its name.
At least one dependency must present. If the dependency was found it throws a [[ReferenceException]]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the dependency name to locate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dependency reference</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_optional">
<code class="descname">get_optional</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all optional dependencies by their name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the dependency name to locate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list with found dependencies or empty list of no dependencies was found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_required">
<code class="descname">get_required</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.get_required" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all required dependencies by their name.
At least one dependency must be present. If no dependencies was found it throws a [[ReferenceException]]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> – the dependency name to locate.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list with found dependencies.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>name</em>, <em>locator</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new dependency into this resolver.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> – the dependency’s name.</li>
<li><strong>locator</strong> – the locator to find the dependency by.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pip_services3_commons.refer.DependencyResolver.DependencyResolver.set_references">
<code class="descname">set_references</code><span class="sig-paren">(</span><em>references</em><span class="sig-paren">)</span><a class="headerlink" href="#pip_services3_commons.refer.DependencyResolver.DependencyResolver.set_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the component references. References must match configured dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>references</strong> – references to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pip_services3_commons.refer.DependencyResolver module</a><ul>
<li><a class="reference internal" href="#pip-services3-commons-refer-dependencyresolver">pip_services3_commons.refer.DependencyResolver</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pip_services3_commons.refer.html"
                        title="previous chapter">pip_services3_commons.refer package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pip_services3_commons.refer.Descriptor.html"
                        title="next chapter">pip_services3_commons.refer.Descriptor module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pip_services3_commons.refer.DependencyResolver.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pip_services3_commons.refer.Descriptor.html" title="pip_services3_commons.refer.Descriptor module"
             >next</a> |</li>
        <li class="right" >
          <a href="pip_services3_commons.refer.html" title="pip_services3_commons.refer package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Pip.Services Commons for Python API</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >pip_services3_commons</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="pip_services3_commons.html" >pip_services3_commons package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="pip_services3_commons.refer.html" >pip_services3_commons.refer package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Conceptual Vision Consulting LLC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>